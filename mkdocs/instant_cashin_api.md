# Instant Cashin API Endpoint


### Usage

* This endpoint is used to disburse the E-Money for an anonymous recipients through a specific issuer.


|  Environment	|  API location source |   HTTP Method	| Content Type	|
|---	        |---   	               |---	            |---	        |
|     {ENV}     |    ^disburse/        |      POST      |     JSON      |


### Headers
```
{
    "Content-Type": "application/json",
    "Authorization": "Bearer {ACCESS_TOKEN}"
}
```


### Request
1. **Request Parameters**

    | Field               |   M/O/C  |    Type           | Notes                                       |
    |-------   |------    |---------------------------------------------|----------                                      |
    | issuer              |   M      |   String          | the channel to disburse the e-money through |
    | amount              |   M      |   Float           |                                             |
    | msisdn              |   C      |   String          | Wallets                                     |
    | bank_card_number    |   C      |   String          | bank accounts/cards only                    |
    | bank_name           |   C      |   String          | bank accounts/cards and bank wallet                    |
    | full_name           |   C      |   String          | bank accounts/cards only                    |
    | client_reference_id |   O      |   String of uuid4 | it's reference id generated by your side    |

    * **Usage:**
        * **{issuer}**: options list: [jazzcash, easypaisa, sadapay, ubank, zong, bykea, simpaisa, tag, opay, bank_wallet, bank_card] -case insensitive-.
        * **{amount}**: it's valid to use decimal point numbers up to 2 decimal point ex: 53.99
        * **{msisdn}**: it consists of 11 numbers, ex: 03162410002
        * **{bank_card_number}**: expected: [bank account number, IBAN, card number]
        * **{bank_name}**: the bank names list.
        * **{client_reference_id}** generated UUID by the client to be saved as reference in case of timeouts.


            |  Bank Name                                       |
            |-------	                                   |
            |  habib metropolitan bank limited                 |
            |  dubai islamic bank pakistan limited             |
            |  finca microfinance bank                         |
            |  sindh bank                                      |
            |  mcb islamic banking                             |
            |  citi bank                                       |
            |  apna microfinance bank                          |
            |  nrsp microfinance bank ltd                      |
            |  united bank                                     |
            |  mcb bank limited                                |
            |  allied bank limited                             |
            |  habib bank limited                              |
            |  faysal bank limited                             |
            |  askari commercial bank limited                  |
            |  js bank                                         |
            |  summit bank                                     |
            |  samba bank                                      |
            |  icbc                                            |
            |  bank of punjab                                  |
            |  bank alfalah limited                            |
            |  bank al habib limited                           |
            |  standard chartered bank                         |
            |  silk bank                                       |
            |  bank of khyber                                  |
            |  meezan bank limited                             |
            |  first women bank limited                        |
            |  central directorate of national savings (cdns)  |
            |  bank islami pakistan                            |
            |  al baraka bank limited                          |
            |  soneri bank limited                             |
            |  abhi finance                                    |
            |  national bank of pakistan                       |
            |  barwaqt                                         |


### Response
1. **Response Parameters**

    |  Field                |    Type    |    Notes    |
    |---                    |---	     |---	       |
    |  disbursement_status  |   String   |             |
    |  status_description   |   String   |             |
    |  status_code          |   String   |             |
    |  transaction_id       |   String   |             |

### Samples
1. **Instant Cashin Request Through  JazzCash**

    * > request

            {
                 "issuer": "jazzcash",
                 "amount": 150.0,
                 "msisdn": "03162410002"
            }

    * > response

            {
                "transaction_id": "de334a09-6cec-4dcf-ab22-0de856e52756",
                "issuer": "jazzcash",
                "msisdn": "03162410002",
                "amount": 150.0,
                "disbursement_status": "failed",
                "status_code": "58",
                "status_description": "TRANSACTION TIMEDOUT",
                "bank_name": "",
                "client_transaction_reference": null,
                "created_at": "2022-10-02 15:03:44.681200",
                "updated_at": "2022-10-02 15:04:42.795962"
            }

2. **Instant Cashin Request Through Easypaisa**

    * > request

            {
                 "issuer": "easypaisa",
                 "amount": 150.0,
                 "msisdn": "03162410002"
            }

    * > response

            {
                "transaction_id": "8040e82a-b10c-4f41-b775-ce1f656141a2",
                "issuer": "easypaisa",
                "msisdn": "03162410002",
                "amount": 150.0,
                "disbursement_status": "failed",
                "status_code": "90",
                 "status_description": "CUSTOMER NOT FOUND",
                 "bank_name": "",
                 "client_transaction_reference": null,
                 "created_at": "2022-10-02 17:32:25.260130",
                 "updated_at": "2022-10-02 17:32:28.914253"
            }


3. **Instant Cashin Request Through Zong**

    * > request

            {
                 "issuer": "zong",
                  "amount": 150.0,
                  "msisdn": "03162410002"
            }

    * > response

            {
                "transaction_id": "28e6645f-60f6-439e-8a54-d57d43f9a346",
                "issuer": "zong",
                "msisdn": "03162410002",
                "amount": 150.0,
                "disbursement_status": "failed",
                 "status_code": "68",
                 "status_description": "INVALID TO ACCOUNT",
                 "bank_name": "",
                 "client_transaction_reference": null,
                 "created_at": "2022-10-02 17:33:58.227037",
                 "updated_at": "2022-10-02 17:34:01.191662"
            }


4. **Instant Cashin Request Through SadaPay**

    * > request

            {
                 "issuer": "sadapay",
                 "amount": 150.0,
                 "msisdn": "03162410002"
            }

    * > response

            {
                "transaction_id": "fd88a43f-6c17-4ae0-a1d2-c5e42c020e2a",
                "issuer": "sadapay",
                "msisdn": "03162410002",
                "amount": 150.0,
                "disbursement_status": "failed",
                "status_code": "58",
                "status_description": "TRANSACTION TIMEDOUT",
                "bank_name": "",
                "client_transaction_reference": null,
                "created_at": "2022-10-02 17:35:12.218949",
                "updated_at": "2022-10-02 17:36:10.121005"
            }

5. **Instant Cashin Request Through Ubank**

    * > request

            {
                 "issuer": "ubank",
                 "amount": 150.0,
                 "msisdn": "03162410002"
            }

    * > response

            {
                "transaction_id": "68dbe21c-a4c1-469b-9d67-4b8c11a4aff4",
                "issuer": "ubank",
                "msisdn": "03162410002",
                "amount": 150.0,
                "disbursement_status": "failed",
                "status_code": "72",
                "status_description": "CURRENCY NOT ALLOWED",
                "bank_name": "",
                "client_transaction_reference": null,
                "created_at": "2022-10-02 17:38:50.195048",
                "updated_at": "2022-10-02 17:38:52.449584"
            }

6. **Instant Cashin Request Through BYKEA**

    * > request

            {
                 "issuer": "bykea",
                 "amount": 150.0,
                 "msisdn": "03162410002"
            }

    * > response

            {
                "transaction_id": "9162d320-bfc2-44b3-ae6d-05964ca70ff7",
                 "issuer": "bykea",
                 "msisdn": "03162410002",
                 "amount": 150.0,
                 "disbursement_status": "failed",
                 "status_code": "06",
                 "status_description": "INVALID IMD",
                 "bank_name": "",
                 "client_transaction_reference": null,
                 "created_at": "2022-10-02 17:40:05.563576",
                 "updated_at": "2022-10-02 17:40:08.283948"
            }

7. **Instant Cashin Request Through SimPaisa**

    * > request

            {
                 "issuer": "simpaisa",
                 "amount": 150.0,
                 "msisdn": "03162410002"
            }

    * > response

            {
                "transaction_id": "4d56ff4a-ba30-45eb-99f5-1ae50dce8fc4",
                "issuer": "simpaisa",
                "msisdn": "03162410002",
                "amount": 150.0,
                "disbursement_status": "failed",
                "status_code": "95",
                "status_description": "TRANSACTION REJECTED",
                "bank_name": "",
                "client_transaction_reference": null,
                "created_at": "2022-10-02 17:41:07.437704",
                "updated_at": "2022-10-02 17:41:10.103492"
            }

8. **Instant Cashin Request Through TAG**

    * > request

            {
                 "issuer": "tag",
                 "amount": 150.0,
                 "msisdn": "03162410002"
            }

    * > response

            {
                "transaction_id": "e994b8c9-439c-49de-9ed0-80d6dabbd7e4",
                "issuer": "tag",
                "msisdn": "03162410002",
                "amount": 150.0,
                "disbursement_status": "failed",
                "status_code": "55",
                "status_description": "HOST LINK DOWN",
                "bank_name": "",
                "client_transaction_reference": null,
                "created_at": "2022-10-02 17:42:45.428707",
                "updated_at": "2022-10-02 17:42:48.171486"
            }

      9. **Instant Cashin Request Through OPay**

          * > request

                  {
                       "issuer": "opay",
                       "amount": 150.0,
                       "msisdn": "03162410002"
                  }

          * > response

                  {
                      "transaction_id": "b3d767d0-c353-481a-8266-8984c242d7af",
                      "issuer": "opay",
                      "msisdn": "03162410002",
                      "amount": 150.0,
                      "disbursement_status": "failed",
                      "status_code": "55",
                      "status_description": "HOST LINK DOWN",
                      "bank_name": "",
                      "client_transaction_reference": null,
                      "created_at": "2022-10-02 17:47:08.630663",
                      "updated_at": "2022-10-02 17:47:11.436320"
                  }


10. **Instant Cashin Request Through Bank Wallet**

    * > request

            {
                 "issuer": "bank_wallet",
                 "amount": 150.0,
                 "msisdn": "03162410002",
                 "bank_name": "habib metropolitan bank limited"
            }

    * > response

            {
                "transaction_id": "3ab2f4f8-d6dc-4461-bda9-1078f6df511a",
                "issuer": "bank_wallet",
                "msisdn": "03162410002",
                "amount": 150.0,
                "disbursement_status": "failed",
                "status_code": "58",
                "status_description": "TRANSACTION TIMEDOUT",
                "bank_name": "habib metropolitan bank limited",
                "client_transaction_reference": null,
                "created_at": "2022-10-02 17:48:33.070099",
                "updated_at": "2022-10-02 17:49:30.922132"
            }


11. **Instant cashin request through Bank Cards / Accounts as an issuer**

    * > request

            {
                "issuer": "bank_card",
                "amount": 100.0,
                "full_name": "Tom Bernard Ceisar",
                "bank_card_number": "6304532132598659",
                "bank_name": "habib metropolitan bank limited"
            }

    * > response

            {
                "transaction_id": "01ea2cd1-f01f-4857-b5ae-1e6359d1c779",
                "issuer": "bank_card",
                "amount": "100.00",
                "bank_card_number": "6304532132598659",
                "full_name": "Tom Bernard Ceisar",
                "bank_name": "habib metropolitan bank limited",
                "disbursement_status": "successful",
                "status_code": "00",
                "status_description": "PROCESSED OK",
                "created_at": "2020-10-12 07:25:51.631701",
                "updated_at": "2020-10-12 07:25:52.263173"
            }


12. **Examples of failure cases**

    12.1 Parameters didn't pass validations

                {
                    "disbursement_status": "failed",
                    "status_description": {
                        "amount": [
                            "This field is required."
                        ],
                        "issuer": [
                            "This field is required."
                        ]
                    },
                    "status_code": "400"
                }

    12.2 Token used is expired

            {
                "disbursement_status": "failed",
                "status_description": "Authentication credentials were not provided.",
                "status_code": "401"
            }

    12.3 The amount to be disbursed exceeds the current balance of the entity

            {
                "disbursement_status": "failed",
                "status_description": "Sorry, the amount to be disbursed exceeds you budget limit, please contact your support team",
                "status_code": "400"
            }
