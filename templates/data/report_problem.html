{% extends 'new_base.html' %}
{% load static %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block customcss %}
  <style>
    #flash_success_message {
      font-size: 10px;
      opacity: 0.15;
      display: none;
      margin-top: 7rem;
      text-align: center;
    }
    .help-block {
      color: red;
    }
  </style>
  <link href="{% static 'css/bootstrap_alerts.css' %}" rel="stylesheet">
{% endblock %}

{% block title %} {% trans 'Report A Problem' %} {% endblock title %}

{% block body %}
  <div>
    <div id="flash_success_message" class="row">
      <div style="padding:10px;" class="col-md-12 col-sm-12 col-xs-12">
        <div class="alert alert-success" role="alert">
          {% trans 'Your Request Has Been Received Successfully, we will get back to you later.' %}
        </div>
      </div>
    </div>
    <div id="form-div">
      <div class="row">
        <div style="padding:10px;" class="col-md-12 col-sm-12 col-xs-12">
          <h4>
            <span class="glyphicon glyphicon-file"></span>
            <span style="font-weight:bold;font-size:23px;">{% trans 'Report A Problem' %}</span>
          </h4>
        </div>
      </div>
      <div style="back-ground: white;" class="row">
        <div style="padding:10px;" class="col-md-12 col-sm-12 col-xs-12">
          <form role="form" action="." method="post" class="autoValidateForm">
            {% csrf_token %}
            <div class="row">
              <div class="form-group col-md-4 col-sm-4 col-xs-12">
                <label>
                  <span class="glyphicon glyphicon-sort"></span> {% trans 'Problem Severity' %} *
                </label>
                {{ form.problem_severity }}
                <span class="respond-span"></span>
                <div class="help-block">
                  {{ form.problem_severity.errors }}
                </div>
              </div>
              <div class="form-group col-md-4 col-sm-4 col-xs-12">
                <label>
                  <span class="glyphicon glyphicon-phone"></span> {% trans 'Contact Number' %} *
                </label>
                {{form.contact_number}}
                <span class="respond-span"></span>
                <div class="help-block">
                  {{form.contact_number.errors}}
                </div>
              </div>
              <div class="form-group col-md-4 col-sm-4 col-xs-12">
                <label>
                  <i class="glyphicon glyphicon-envelope" style="font-size:16px"></i> {% trans 'Contact Email' %} *
                </label>
                {{form.contact_email}}
                <span class="respond-span"></span>
                <div class="help-block">
                  {{form.contact_email.errors}}
                </div>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-md-12 col-sm-12 col-xs-12">
                <label>
                  <span class="glyphicon glyphicon-comment"></span> {% trans 'Comment' %} *
                </label>
                {{ form.comment }}
                <span class="respond-span"></span>
                <div class="help-block">
                  {{ form.comment.errors }}
                </div>
              </div>
            </div>
            <input id="submit_button" class="btn btn-primary pull-right" type="submit" value="Submit">
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock body %}

{% block script %}
  <script>
    function animate_message() {
       $('#flash_success_message').animate({fontSize: '16px'}, "3000");
    }
    {% if request_received %}
      $('#form-div').remove()
      $('#flash_success_message').fadeTo("slow", 1.0, animate_message);
    {% endif %}
  </script>
{% endblock %}
