# Instant Cashin API Endpoint


### Usage

* This endpoint is used to disburse the E-Money for an anonymous recipients through a specific issuer.


|  Environment	|  API location source |   HTTP Method	| Content Type	|
|---	        |---   	               |---	            |---	        |
|     {ENV}     |    ^disburse/        |      POST      |     JSON      |


### Headers
```
{
    "Content-Type": "application/json",
    "Authorization": "Bearer {ACCESS_TOKEN}"
}
```


### Request
1. **Request Parameters**

    | Field                 |   M/O/C  |    Type           | Notes                                       |
    |-------   |------    |---------------------------------------------|----------                                      |
    | issuer                |   M      |   String          | the channel to disburse the e-money through |
    | amount                |   M      |   Float           |                                             |
    | msisdn                |   C      |   String          | Wallets                                     |
    | bank_card_number      |   C      |   String          | bank accounts/cards only                    |
    | bank_imd_or_bin       |   C      |   String          | bank accounts/cards only                    |
    | full_name             |   C      |   String          | bank accounts/cards only                    |
    | client_reference_id   |   O      |   String of uuid4 | it's reference id generated by your side    |

    * **Usage:**
        * **{issuer}** options list: [vodafone, etisalat, orange, aman, bank_wallet, bank_card] -case insensitive-.
        * **{amount}** it's valid to use decimal point numbers up to 2 decimal points ex: 53.99
        * **{msisdn}**: the +2 added automatically, so it consists of 11 numbers, ex: 01020304050
        * **{bank_card_number}**: expected: [bank account number, IBAN, card number]
        * **{bank_imd_or_bin}**: the banks IMD/BIN list.
        * **{client_reference_id}** generated UUID by the client to be saved as reference in case of timeouts.


            |  Bank Name                                       |  Bank IMD/BIN |
            |-------	                                       |------         |
            |  Al Baraka Bank Limited                          |   639530      |
            |  Allied Bank Limited                             |   589430      |
            |  Askari Commercial Bank Limited                  |   603011      |
            |  Bank AL Habib Limited                           |   627197      |
            |  Bank Alfalah Limited                            |   627100      |
            |  Faysal Bank Limited                             |   601373      |
            |  Habib Bank Limited                              |   600648      |
            |  Meezan Bank Limited                             |   627873      |
            |  National Bank of Pakistan                       |   958600      |
            |  Soneri Bank Limited                             |   786110      |
            |  Standard Chartered Bank                         |   627271      |
            |  United Bank Limited                             |   588974      |
            |  SAMBA Bank                                      |   606101      |
            |  Dubai Islamic Bank Pakistan Limited             |   428273      |
            |  BankIslami Pakistan Limited                     |   639357      |
            |  Bank of Khyber                                  |   627618      |
            |  Bank of Punjab                                  |   623977      |
            |  Telenor Microfinance Bank                       |   639390      |
            |  JS Bank                                         |   603733      |
            |  Silk Bank                                       |   627544      |
            |  Summit Bank                                     |   604781      |
            |  Habib Metropolitan Bank Limited                 |   627408      |
            |  FINCA Microfinance Bank                         |   502841      |
            |  Sindh Bank                                      |   505439      |
            |  Citi Bank                                       |   508117      |
            |  Apna Microfinance Bank                          |   581862      |
            |  Ubank                                           |   581886      |
            |  First Women Bank Limited                        |   628138      |
            |  Mobilink Microfinance Bank Limited              |   585953      |
            |  ICBC                                            |   621464      |
            |  Advans Pakistan Microfinance Ltd.               |   505895      |
            |  NRSP Microfinance Bank Ltd.                     |   586010      |
            |  MCB Islamic Banking                             |   507642      |
            |  FirstPay/HBL MFB                                |   220557      |
            |  MCB Bank Limited                                |   589388      |
            |  SME Bank Limited                                |   604889      |
            |  Khushali Microfinance Bank                      |   220563      |
            |  Zarai Taraqiati Bank                            |   220564      |
            |  MCB ARIF HABIB                                  |   220561      |
            |  WHITE LABEL ATM                                 |   999914      |
            |  HBL ASSET MANAGEMENT                            |   220565      |
            |  NayaPay Private Limited                         |   478278      |
            |  NBP Funds                                       |   629113      |
            |  Central Directorate of National Savings (CDNS)  |   62911600    |
            |  PayMax (Zong)                                   |   999919      |
            |  SadaPay                                         |   559049      |
            |  BYKEA                                           |   999921      |
            |  SimPaisa                                        |   999922      |
            |  Abhi Finance                                    |   999926      |
            |  TAG                                             |   999925      |
            |  Barwaqt                                         |   999955      |
            |  OPay                                            |   999947      |
            |  Keenu                                           |   999906      |
            |  FINJA EMI                                       |   220591      |

### Response
1. **Response Parameters**

    |  Field                |    Type    |    Notes    |
    |---                    |---	     |---	       |
    |  disbursement_status  |   String   |             |
    |  status_description   |   String   |             |
    |  status_code          |   String   |             |
    |  transaction_id       |   String   |             |

### Samples

6. **Instant cashin request through Bank Cards / Accounts as an issuer**

    * > request

            {
                "issuer": "bank_card",
                "amount": 100.0,
                "full_name": "Tom Bernard Ceisar",
                "bank_card_number": "6304532132598659",
                "bank_imd_or_bin": "221166"
            }

    * > response

            {
                "transaction_id": "01ea2cd1-f01f-4857-b5ae-1e6359d1c779",
                "issuer": "bank_card",
                "amount": "100.00",
                "bank_card_number": "6304532132598659",
                "full_name": "Tom Bernard Ceisar",
                "bank_imd_or_bin": "221166",
                "disbursement_status": "successful",
                "status_code": "00",
                "status_description": "PROCESSED OK",
                "created_at": "2020-10-12 07:25:51.631701",
                "updated_at": "2020-10-12 07:25:52.263173"
            }


7. **Examples of failure cases**

    7.1 Parameters didn't pass validations

                {
                    "disbursement_status": "failed",
                    "status_description": {
                        "amount": [
                            "This field is required."
                        ],
                        "issuer": [
                            "This field is required."
                        ]
                    },
                    "status_code": "400"
                }

    7.2 Token used is expired

            {
                "disbursement_status": "failed",
                "status_description": "Authentication credentials were not provided.",
                "status_code": "401"
            }

    7.2 The amount to be disbursed exceeds the current balance of the entity

            {
                "disbursement_status": "failed",
                "status_description": "Sorry, the amount to be disbursed exceeds you budget limit, please contact your support team",
                "status_code": "400"
            }
